!function(a){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=a():module.exports=a:window.Carousel=a()}(function(){var a=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),b=function(b,c){c=c||{},this.carousel="object"==typeof b?b:document.querySelector(b),this.options={},this.options.keyboard="true"===c.keyboard,this.options.pause=c.pause?c.pause:"hover",this.duration=600,this.options.duration=a&&a<10?0:c.duration||this.duration;var d=this.carousel.querySelectorAll(".item"),e=d.length;this.controls=this.carousel.querySelectorAll(".carousel-control"),this.prev=this.controls[0],this.next=this.controls[1],this.slides=[];for(var f=0;f<e;f++)this.slides.push(d[f]);this.indicator=this.carousel.querySelector(".carousel-indicators"),this.indicators=this.carousel.querySelectorAll(".carousel-indicators li"),this.total=this.slides.length,this.timer=null,this.direction=null,this.index=0;var g=this;"false"===c.interval?this.options.interval=!1:this.options.interval=parseInt(c.interval)||5e3,this.cycle=function(a){this.direction="left",this.timer=setInterval(function(){g.index++,g.index==g.slides.length&&(g.index=0),g._slideTo(g.index,a)},this.options.interval)},this.pause=function(){var a=function(){g.options.interval===!1||/\bpaused/.test(g.carousel.className)||(g.carousel.className+=" paused",clearInterval(g.timer),g.timer=null)},b=function(){g.options.interval!==!1&&/\bpaused/.test(g.carousel.className)&&(g.cycle(),g.carousel.className=g.carousel.className.replace(/\bpaused/,""))};g.carousel.addEventListener("mouseenter",a,!1),g.carousel.addEventListener("mouseleave",b,!1),g.carousel.addEventListener("touchstart",a,!1),g.carousel.addEventListener("touchend",b,!1)},this._slideTo=function(b,c){var d=this._getActiveIndex(),e=this.direction,f="left"===e?"next":"prev",h=null,i=null;"CustomEvent"in window&&window.dispatchEvent&&(h=new CustomEvent("slid.bs.carousel"),i=new CustomEvent("slide.bs.carousel")),i&&this.carousel.dispatchEvent(i),this._removeEventListeners(),clearInterval(this.timer),this.timer=null,this._curentPage(this.indicators[b]),!/\bslide/.test(this.carousel.className)||a&&a<10?(this.slides[b].className+=" active",this.slides[b].offsetWidth,this.slides[d].className=this.slides[d].className.replace(" active",""),setTimeout(function(){g._addEventListeners(),g.options.interval===!1||/\bpaused/.test(g.carousel.className)||(clearInterval(g.timer),g.cycle()),h&&g.carousel.dispatchEvent(h)},this.options.duration+100)):(this.slides[b].className+=" "+f,this.slides[b].offsetWidth,this.slides[b].className+=" "+e,this.slides[d].className+=" "+e,setTimeout(function(){g._addEventListeners(),g.slides[b].className+=" active",g.slides[d].className=g.slides[d].className.replace(" active",""),g.slides[b].className=g.slides[b].className.replace(" "+f,""),g.slides[b].className=g.slides[b].className.replace(" "+e,""),g.slides[d].className=g.slides[d].className.replace(" "+e,""),g.options.interval===!1||/\bpaused/.test(g.carousel.className)||(clearInterval(g.timer),g.cycle()),h&&g.carousel.dispatchEvent(h)},this.options.duration+100))},this._addEventListeners=function(){this.next&&this.next.addEventListener("click",this.controlsHandler,!1),this.prev&&this.prev.addEventListener("click",this.controlsHandler,!1),this.indicator&&this.indicator.addEventListener("click",this.indicatorHandler,!1),this.options.keyboard===!0&&window.addEventListener("keydown",this.keyHandler,!1)},this._removeEventListeners=function(){this.next&&this.next.removeEventListener("click",this.controlsHandler,!1),this.prev&&this.prev.removeEventListener("click",this.controlsHandler,!1),this.indicator&&this.indicator.removeEventListener("click",this.indicatorHandler,!1),this.options.keyboard===!0&&window.removeEventListener("keydown",this.keyHandler,!1)},this._getActiveIndex=function(){return this.slides.indexOf(this.carousel.querySelector(".item.active"))},this._curentPage=function(a){for(var b=0;b<this.indicators.length;++b){var c=this.indicators[b];c.className=""}a&&(a.className="active")},this.indicatorHandler=function(a){a.preventDefault();var b=a.target,c=g._getActiveIndex();if(!b||/\bactive/.test(b.className)||!b.getAttribute("data-slide-to"))return!1;var d=parseInt(b.getAttribute("data-slide-to"),10);g.index=d,0==g.index?g.index=0:g.index==g.total-1&&(g.index=g.total-1),c<g.index||c===g.total-1&&0===g.index?g.direction="left":(c>g.index||0===c&&g.index===g.total-1)&&(g.direction="right"),g._slideTo(g.index,a)},this.controlsHandler=function(a){var b=a.currentTarget||a.srcElement;b===g.next?(g.index++,g.direction="left",g.index==g.total-1?g.index=g.total-1:g.index==g.total&&(g.index=0)):b===g.prev&&(g.index--,g.direction="right",0==g.index?g.index=0:g.index<0&&(g.index=g.total-1)),g._slideTo(g.index,a)},this.keyHandler=function(a){switch(a.which){case 39:a.preventDefault(),g.index++,g.direction="left",g.index==g.total-1?g.index=g.total-1:g.index==g.total&&(g.index=0);break;case 37:a.preventDefault(),g.index--,g.direction="right",0==g.index?g.index=0:g.index<0&&(g.index=g.total-1);break;default:return}g._slideTo(g.index,a)},this.options.interval!==!1&&this.cycle(),this.options&&"hover"===this.options.pause&&this.options.interval!==!1&&this.pause(),this._addEventListeners(),this.next&&this.next.addEventListener("click",function(a){a.preventDefault()},!1),this.prev&&this.prev.addEventListener("click",function(a){a.preventDefault()},!1)},c=document.querySelectorAll('[data-ride="carousel"]'),d=0,e=c.length;for(d;d<e;d++){var f=c[d],g={};g.interval=f.getAttribute("data-interval")&&f.getAttribute("data-interval"),g.pause=f.getAttribute("data-pause")&&f.getAttribute("data-pause")||"hover",g.keyboard=f.getAttribute("data-keyboard")&&f.getAttribute("data-keyboard")||!1,g.duration=f.getAttribute("data-duration")&&f.getAttribute("data-duration")||!1,new b(f,g)}return b});
