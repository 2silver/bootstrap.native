!function(a){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=a():module.exports=a:window.Modal=a()}(function(){var a=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),b=function(a,b){a.classList?a.classList.add(b):(a.className+=" "+b,a.offsetWidth)},c=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,"")},d=function(d,e){e=e||{},this.modal="object"==typeof d?d:document.querySelector(d),this.options={},this.options.backdrop="false"!==e.backdrop,this.options.keyboard="false"!==e.keyboard,this.options.content=e.content,this.duration=e.duration||300,this.options.duration=a&&a<10?0:this.duration,this.scrollbarWidth=0,this.dialog=this.modal.querySelector(".modal-dialog"),this.timer=0;var f=this,g=function(){var a=document.documentElement.getBoundingClientRect(),b=window.innerWidth||a.right-Math.abs(a.left);return b},h=function(){var a=window.getComputedStyle(document.body),b=parseInt(a.paddingRight,10);f.bodyIsOverflowing&&(document.body.style.paddingRight=b+f.scrollbarWidth+"px")},i=function(){document.body.style.paddingRight=""},j=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b},k=function(){f.bodyIsOverflowing=document.body.clientWidth<g(),f.modalIsOverflowing=f.modal.scrollHeight>document.documentElement.clientHeight,f.scrollbarWidth=j()};this.open=function(){var a=document.querySelector(".modal.in");a&&(clearTimeout(a.getAttribute("data-timer")),c(a,"in"),setTimeout(function(){a.setAttribute("aria-hidden",!0),a.style.display=""},this.options.duration/2)),this.options.backdrop?this.createOverlay():this.overlay=null,this.overlay&&setTimeout(function(){b(f.overlay,"in")},0),clearTimeout(f.modal.getAttribute("data-timer")),this.timer=setTimeout(function(){f.modal.style.display="block",k(),f.adjustDialog(),h(),f.resize(),f.dismiss(),f.keydown(),b(document.body,"modal-open"),b(f.modal,"in"),f.modal.setAttribute("aria-hidden",!1)},this.options.duration/2),this.modal.setAttribute("data-timer",this.timer)},this.close=function(){this.overlay&&c(this.overlay,"in"),c(this.modal,"in"),this.modal.setAttribute("aria-hidden",!0),clearTimeout(this.modal.getAttribute("data-timer")),this.timer=setTimeout(function(){c(document.body,"modal-open"),f.resize(),f.resetAdjustments(),i(),f.dismiss(),f.keydown(),f.modal.style.display=""},this.options.duration/2),this.modal.setAttribute("data-timer",this.timer),setTimeout(function(){document.querySelector(".modal.in")||f.removeOverlay()},this.options.duration)},this.content=function(a){return this.modal.querySelector(".modal-content").innerHTML=a},this.createOverlay=function(){var a=document.createElement("div"),b=document.querySelector(".modal-backdrop");a.setAttribute("class","modal-backdrop fade"),b?this.overlay=b:(this.overlay=a,document.body.appendChild(a))},this.removeOverlay=function(){var a=document.querySelector(".modal-backdrop");null!==a&&void 0!==a&&document.body.removeChild(a)},this.keydown=function(){function a(a){f.options.keyboard&&27==a.which&&f.close()}/\bin/.test(this.modal.className)?document.removeEventListener("keydown",a,!1):document.addEventListener("keydown",a,!1)},this.trigger=function(){var a=document.querySelectorAll('[data-toggle="modal"]'),b=a.length,c=0;for(c;c<b;c++)a[c].addEventListener("click",function(a){a.preventDefault();var b=a.target,c=b.getAttribute("data-target")&&b.getAttribute("data-target").replace("#","")||b.getAttribute("href")&&b.getAttribute("href").replace("#","");document.getElementById(c)===f.modal&&f.open()})},this._resize=function(){var a=this.overlay||document.querySelector(".modal-backdrop"),b={w:document.documentElement.clientWidth+"px",h:document.documentElement.clientHeight+"px"};null!==a&&/\bin/.test(a.className)&&(a.style.height=b.h,a.style.width=b.w)},this.oneResize=function(){function a(){f._resize(),f.handleUpdate(),window.removeEventListener("resize",a,!1)}window.addEventListener("resize",a,!1)},this.resize=function(){/\bin/.test(this.modal.className)?window.removeEventListener("resize",this.oneResize,!1):window.addEventListener("resize",this.oneResize,!1)},this.dismiss=function(){function a(a){"modal"!==a.target.parentNode.getAttribute("data-dismiss")&&"modal"!==a.target.getAttribute("data-dismiss")&&a.target!==f.modal||(a.preventDefault(),f.close())}/\bin/.test(this.modal.className)?this.modal.removeEventListener("click",a,!1):this.modal.addEventListener("click",a,!1)},this.handleUpdate=function(){this.adjustDialog()},this.adjustDialog=function(){this.modal.style.paddingLeft=!this.bodyIsOverflowing&&this.modalIsOverflowing?this.scrollbarWidth+"px":"",this.modal.style.paddingRight=this.bodyIsOverflowing&&!this.modalIsOverflowing?this.scrollbarWidth+"px":""},this.resetAdjustments=function(){this.modal.style.paddingLeft="",this.modal.style.paddingRight=""},this.trigger(),this.options.content&&void 0!==this.options.content&&this.content(this.options.content)},e=document.querySelectorAll(".modal"),f=e.length,g=0;for(g;g<f;g++){var h=e[g],i={};i.keyboard=h.getAttribute("data-keyboard"),i.backdrop=h.getAttribute("data-backdrop"),i.duration=h.getAttribute("data-duration"),new d(h,i)}return d});