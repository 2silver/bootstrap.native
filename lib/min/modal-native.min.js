!function(a){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=a():module.exports=a:window.Modal=a()}(function(){var a=function(a,b){b=b||{},this.isIE=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),this.modal="object"==typeof a?a:document.querySelector(a),this.options={},this.options.backdrop="false"!==b.backdrop,this.options.keyboard="false"!==b.keyboard,this.options.content=b.content,this.duration=b.duration||300,this.options.duration=this.isIE&&this.isIE<10?0:this.duration,this.scrollbarWidth=0,this.dialog=this.modal.querySelector(".modal-dialog"),this.timer=0,this.init()},b=function(){var a=document.documentElement.getBoundingClientRect(),b=window.innerWidth||a.right-Math.abs(a.left);return b};a.prototype={init:function(){this.actions(),this.trigger(),this.options.content&&void 0!==this.options.content&&this.content(this.options.content)},actions:function(){var a=this;this.open=function(){this._open()},this.close=function(){this._close()},this._open=function(){var b=document.querySelector(".modal.in");b&&(clearTimeout(b.getAttribute("data-timer")),this.removeClass(b,"in"),setTimeout(function(){b.setAttribute("aria-hidden",!0),b.style.display=""},this.options.duration/2)),this.options.backdrop?this.createOverlay():this.overlay=null,this.overlay&&setTimeout(function(){a.addClass(a.overlay,"in")},0),clearTimeout(a.modal.getAttribute("data-timer")),this.timer=setTimeout(function(){a.modal.style.display="block",a.checkScrollbar(),a.adjustDialog(),a.setScrollbar(),a.resize(),a.dismiss(),a.keydown(),a.addClass(document.body,"modal-open"),a.addClass(a.modal,"in"),a.modal.setAttribute("aria-hidden",!1)},this.options.duration/2),this.modal.setAttribute("data-timer",this.timer)},this._close=function(){this.overlay&&this.removeClass(this.overlay,"in"),this.removeClass(this.modal,"in"),this.modal.setAttribute("aria-hidden",!0),clearTimeout(this.modal.getAttribute("data-timer")),this.timer=setTimeout(function(){a.removeClass(document.body,"modal-open"),a.resize(),a.resetAdjustments(),a.resetScrollbar(),a.dismiss(),a.keydown(),a.modal.style.display=""},this.options.duration/2),this.modal.setAttribute("data-timer",this.timer),setTimeout(function(){document.querySelector(".modal.in")||a.removeOverlay()},this.options.duration)},this.content=function(a){return this.modal.querySelector(".modal-content").innerHTML=a},this.createOverlay=function(){var a=document.createElement("div"),b=document.querySelector(".modal-backdrop");a.setAttribute("class","modal-backdrop fade"),b?this.overlay=b:(this.overlay=a,document.body.appendChild(a))},this.removeOverlay=function(){var a=document.querySelector(".modal-backdrop");null!==a&&void 0!==a&&document.body.removeChild(a)},this.keydown=function(){function b(b){a.options.keyboard&&27==b.which&&a.close()}/\bin/.test(this.modal.className)?document.removeEventListener("keydown",b,!1):document.addEventListener("keydown",b,!1)},this.trigger=function(){var b=document.querySelectorAll('[data-toggle="modal"]'),c=b.length,d=0;for(d;d<c;d++)b[d].addEventListener("click",function(b){b.preventDefault();var c=b.target,d=c.getAttribute("data-target")&&c.getAttribute("data-target").replace("#","")||c.getAttribute("href")&&c.getAttribute("href").replace("#","");document.getElementById(d)===a.modal&&a.open()})},this._resize=function(){var a=this.overlay||document.querySelector(".modal-backdrop"),b={w:document.documentElement.clientWidth+"px",h:document.documentElement.clientHeight+"px"};null!==a&&/\bin/.test(a.className)&&(a.style.height=b.h,a.style.width=b.w)},this.oneResize=function(){function b(){a._resize(),a.handleUpdate(),window.removeEventListener("resize",b,!1)}window.addEventListener("resize",b,!1)},this.resize=function(){/\bin/.test(this.modal.className)?window.removeEventListener("resize",this.oneResize,!1):window.addEventListener("resize",this.oneResize,!1)},this.dismiss=function(){function b(b){"modal"!==b.target.parentNode.getAttribute("data-dismiss")&&"modal"!==b.target.getAttribute("data-dismiss")&&b.target!==a.modal||(b.preventDefault(),a.close())}/\bin/.test(this.modal.className)?this.modal.removeEventListener("click",b,!1):this.modal.addEventListener("click",b,!1)},this.handleUpdate=function(){this.adjustDialog()},this.adjustDialog=function(){this.modal.style.paddingLeft=!this.bodyIsOverflowing&&this.modalIsOverflowing?this.scrollbarWidth+"px":"",this.modal.style.paddingRight=this.bodyIsOverflowing&&!this.modalIsOverflowing?this.scrollbarWidth+"px":""},this.resetAdjustments=function(){this.modal.style.paddingLeft="",this.modal.style.paddingRight=""},this.checkScrollbar=function(){this.bodyIsOverflowing=document.body.clientWidth<b(),this.modalIsOverflowing=this.modal.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},this.setScrollbar=function(){var a=window.getComputedStyle(document.body),b=parseInt(a.paddingRight,10);this.bodyIsOverflowing&&(document.body.style.paddingRight=b+this.scrollbarWidth+"px")},this.resetScrollbar=function(){document.body.style.paddingRight=""},this.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b},this.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},this.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,"")}}};var c=document.querySelectorAll(".modal"),d=c.length,e=0;for(e;e<d;e++){var f=c[e],g={};g.keyboard=f.getAttribute("data-keyboard"),g.backdrop=f.getAttribute("data-backdrop"),g.duration=f.getAttribute("data-duration"),new a(f,g)}return a});