!function(t){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=t():module.exports=t:window.Modal=t()}(function(){var t=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),e=function(t,e){t.classList?t.classList.add(e):(t.className+=" "+e,t.offsetWidth)},i=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(e,"").replace(/^\s+|\s+$/g,"")},o=function(o,n){n=n||{},this.modal="object"==typeof o?o:document.querySelector(o),this.options={},this.options.backdrop="false"!==n.backdrop,this.options.keyboard="false"!==n.keyboard,this.options.content=n.content,this.duration=n.duration||300,this.options.duration=t&&t<10?0:this.duration,this.scrollbarWidth=0,this.dialog=this.modal.querySelector(".modal-dialog"),this.timer=0;var d=this,s=function(){var t=document.documentElement.getBoundingClientRect(),e=window.innerWidth||t.right-Math.abs(t.left);return e},a=function(){var t=window.getComputedStyle(document.body),e=parseInt(t.paddingRight,10);d.bodyIsOverflowing&&(document.body.style.paddingRight=e+d.scrollbarWidth+"px")},r=function(){document.body.style.paddingRight=""},l=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},c=function(){d.bodyIsOverflowing=document.body.clientWidth<s(),d.modalIsOverflowing=d.modal.scrollHeight>document.documentElement.clientHeight,d.scrollbarWidth=l()};this.open=function(){var t=document.querySelector(".modal.in");t&&(clearTimeout(t.getAttribute("data-timer")),i(t,"in"),setTimeout(function(){t.setAttribute("aria-hidden",!0),t.style.display=""},this.options.duration/2)),this.options.backdrop?this.createOverlay():this.overlay=null,this.overlay&&setTimeout(function(){e(d.overlay,"in")},0),clearTimeout(d.modal.getAttribute("data-timer")),this.timer=setTimeout(function(){d.modal.style.display="block",c(),d.adjustDialog(),a(),d.resize(),d.dismiss(),d.keydown(),e(document.body,"modal-open"),e(d.modal,"in"),d.modal.setAttribute("aria-hidden",!1)},this.options.duration/2),this.modal.setAttribute("data-timer",this.timer)},this.close=function(){this.overlay&&i(this.overlay,"in"),i(this.modal,"in"),this.modal.setAttribute("aria-hidden",!0),clearTimeout(this.modal.getAttribute("data-timer")),this.timer=setTimeout(function(){i(document.body,"modal-open"),d.resize(),d.resetAdjustments(),r(),d.dismiss(),d.keydown(),d.modal.style.display=""},this.options.duration/2),this.modal.setAttribute("data-timer",this.timer),setTimeout(function(){document.querySelector(".modal.in")||d.removeOverlay()},this.options.duration)},this.content=function(t){return this.modal.querySelector(".modal-content").innerHTML=t},this.createOverlay=function(){var t=document.createElement("div"),e=document.querySelector(".modal-backdrop");t.setAttribute("class","modal-backdrop fade"),e?this.overlay=e:(this.overlay=t,document.body.appendChild(t))},this.removeOverlay=function(){var t=document.querySelector(".modal-backdrop");null!==t&&void 0!==t&&document.body.removeChild(t)},this.keydown=function(){function t(t){d.options.keyboard&&27==t.which&&d.close()}/\bin/.test(this.modal.className)?document.removeEventListener("keydown",t,!1):document.addEventListener("keydown",t,!1)},this.trigger=function(){var t=document.querySelectorAll('[data-toggle="modal"]'),e=t.length,i=0;for(i;i<e;i++)t[i].addEventListener("click",function(t){t.preventDefault();var e=t.target,i=e.getAttribute("data-target")&&e.getAttribute("data-target").replace("#","")||e.getAttribute("href")&&e.getAttribute("href").replace("#","");document.getElementById(i)===d.modal&&d.open()})},this._resize=function(){var t=this.overlay||document.querySelector(".modal-backdrop"),e={w:document.documentElement.clientWidth+"px",h:document.documentElement.clientHeight+"px"};null!==t&&/\bin/.test(t.className)&&(t.style.height=e.h,t.style.width=e.w)},this.oneResize=function(){function t(){d._resize(),d.handleUpdate(),window.removeEventListener("resize",t,!1)}window.addEventListener("resize",t,!1)},this.resize=function(){/\bin/.test(this.modal.className)?window.removeEventListener("resize",this.oneResize,!1):window.addEventListener("resize",this.oneResize,!1)},this.dismiss=function(){function t(t){"modal"!==t.target.parentNode.getAttribute("data-dismiss")&&"modal"!==t.target.getAttribute("data-dismiss")&&t.target!==d.modal||(t.preventDefault(),d.close())}/\bin/.test(this.modal.className)?this.modal.removeEventListener("click",t,!1):this.modal.addEventListener("click",t,!1)},this.handleUpdate=function(){this.adjustDialog()},this.adjustDialog=function(){this.modal.style.paddingLeft=!this.bodyIsOverflowing&&this.modalIsOverflowing?this.scrollbarWidth+"px":"",this.modal.style.paddingRight=this.bodyIsOverflowing&&!this.modalIsOverflowing?this.scrollbarWidth+"px":""},this.resetAdjustments=function(){this.modal.style.paddingLeft="",this.modal.style.paddingRight=""},this.trigger(),this.options.content&&void 0!==this.options.content&&this.content(this.options.content)},n=document.querySelectorAll(".modal"),d=n.length,s=0;for(s;s<d;s++){var a=n[s],r={};r.keyboard=a.getAttribute("data-keyboard"),r.backdrop=a.getAttribute("data-backdrop"),r.duration=a.getAttribute("data-duration"),new o(a,r)}return o});
