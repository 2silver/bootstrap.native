!function(a){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=a():module.exports=a:window.Popover=a()}(function(){var a=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),b=function(a){var b=a.getBoundingClientRect();return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&b.right<=(window.innerWidth||document.documentElement.clientWidth)},c=function(c,d){if(d=d||{},this.link="object"==typeof c?c:document.querySelector(c),this.title=this.link.getAttribute("data-title")||null,this.content=this.link.getAttribute("data-content")||null,this.popover=null,this.options={},this.options.template=d.template?d.template:null,this.options.trigger=d.trigger?d.trigger:"hover",this.options.animation=d.animation&&"true"!==d.animation?d.animation:"true",this.options.placement=d.placement?d.placement:"top",this.options.delay=parseInt(d.delay)||100,this.options.dismiss=!(!d.dismiss||"true"!==d.dismiss),this.duration=150,this.options.duration=a&&a<10?0:d.duration||this.duration,this.options.container=document.body,this.content||this.options.template){this.timer=0;var e=this,f="onmouseleave"in this.link?["mouseenter","mouseleave"]:["mouseover","mouseout"];this.toggle=function(a){null===e.popover?e.open():e.close()},this.open=function(a){clearTimeout(e.link.getAttribute("data-timer")),e.timer=setTimeout(function(){null===e.popover&&(e.createPopover(),e.stylePopover(),e.updatePopover())},e.options.duration),e.link.setAttribute("data-timer",e.timer)},this.dismiss=function(a){e.popover&&a.target===e.popover.querySelector(".close")&&e.close()},this.close=function(a){clearTimeout(e.link.getAttribute("data-timer")),e.timer=setTimeout(function(){e.popover&&null!==e.popover&&/\bin/.test(e.popover.className)&&(e.popover.className=e.popover.className.replace(" in",""),setTimeout(function(){e.removePopover()},e.options.duration))},e.options.delay+e.options.duration),e.link.setAttribute("data-timer",e.timer)},this.removePopover=function(){this.popover&&this.options.container.removeChild(this.popover),this.popover=null,this.timer=null},this.createPopover=function(){if(this.popover=document.createElement("div"),null!==this.content&&null===this.options.template){this.popover.setAttribute("role","tooltip");var a=document.createElement("div");if(a.setAttribute("class","arrow"),null!==this.title){var b=document.createElement("h3");b.setAttribute("class","popover-title"),this.options.dismiss?b.innerHTML=this.title+'<button type="button" class="close">×</button>':b.innerHTML=this.title,this.popover.appendChild(b)}var c=document.createElement("div");c.setAttribute("class","popover-content"),this.popover.appendChild(a),this.popover.appendChild(c),this.options.dismiss&&null===this.title?c.innerHTML=this.content+'<button type="button" class="close">×</button>':c.innerHTML=this.content}else{var d=document.createElement("div");d.innerHTML=this.options.template,this.popover.innerHTML=d.firstChild.innerHTML}this.options.container.appendChild(this.popover),this.popover.style.display="block"},this.stylePopover=function(a){var b=this.link.getBoundingClientRect(),c=a||this.options.placement,d="true"===this.options.animation?"fade":"";this.popover.setAttribute("class","popover "+c+" "+d);var e={w:b.right-b.left,h:b.bottom-b.top},f={w:this.popover.offsetWidth,h:this.popover.offsetHeight},g=this.getScroll().y,h=this.getScroll().x;/top/.test(c)?(this.popover.style.top=b.top+g-f.h+"px",this.popover.style.left=b.left+h-f.w/2+e.w/2+"px"):/bottom/.test(c)?(this.popover.style.top=b.top+g+e.h+"px",this.popover.style.left=b.left+h-f.w/2+e.w/2+"px"):/left/.test(c)?(this.popover.style.top=b.top+g-f.h/2+e.h/2+"px",this.popover.style.left=b.left+h-f.w+"px"):/right/.test(c)&&(this.popover.style.top=b.top+g-f.h/2+e.h/2+"px",this.popover.style.left=b.left+h+e.w+"px")},this.updatePopover=function(){var a=null;a=b(this.popover)?this.options.placement:this.updatePlacement(),this.stylePopover(a),this.popover.className+=" in"},this.updatePlacement=function(){var a=this.options.placement;return/top/.test(a)?"bottom":/bottom/.test(a)?"top":/left/.test(a)?"right":/right/.test(a)?"left":void 0},this.getScroll=function(){return{y:window.pageYOffset||document.documentElement.scrollTop,x:window.pageXOffset||document.documentElement.scrollLeft}},"hover"===this.options.trigger?(this.link.addEventListener(f[0],this.open,!1),this.options.dismiss||this.link.addEventListener(f[1],this.close,!1)):"click"===this.options.trigger?(this.link.addEventListener("click",this.toggle,!1),this.options.dismiss||this.link.addEventListener("blur",this.close,!1)):"focus"===this.options.trigger&&(this.link.addEventListener("focus",this.toggle,!1),this.options.dismiss||this.link.addEventListener("blur",this.close,!1)),this.options.dismiss&&document.addEventListener("click",this.dismiss,!1),a&&a<9||window.addEventListener("resize",this.close,!1)}},d=document.querySelectorAll("[data-toggle=popover]"),e=0,f=d.length;for(e;e<f;e++){var g=d[e],h={};h.trigger=g.getAttribute("data-trigger"),h.animation=g.getAttribute("data-animation"),h.duration=g.getAttribute("data-duration"),h.placement=g.getAttribute("data-placement"),h.dismiss=g.getAttribute("data-dismiss"),h.delay=g.getAttribute("data-delay"),new c(g,h)}return c});