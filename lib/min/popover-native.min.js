!function(t){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=t():module.exports=t:window.Popover=t()}(function(){var t=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),e=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},i=function(i,o){if(o=o||{},this.link="object"==typeof i?i:document.querySelector(i),this.title=this.link.getAttribute("data-title")||null,this.content=this.link.getAttribute("data-content")||null,this.popover=null,this.options={},this.options.template=o.template?o.template:null,this.options.trigger=o.trigger?o.trigger:"hover",this.options.animation=o.animation&&"true"!==o.animation?o.animation:"true",this.options.placement=o.placement?o.placement:"top",this.options.delay=parseInt(o.delay)||100,this.options.dismiss=!(!o.dismiss||"true"!==o.dismiss),this.duration=150,this.options.duration=t&&t<10?0:o.duration||this.duration,this.options.container=document.body,this.content||this.options.template){this.timer=0;var s=this,n="onmouseleave"in this.link?["mouseenter","mouseleave"]:["mouseover","mouseout"];this.toggle=function(t){null===s.popover?s.open():s.close()},this.open=function(t){clearTimeout(s.link.getAttribute("data-timer")),s.timer=setTimeout(function(){null===s.popover&&(s.createPopover(),s.stylePopover(),s.updatePopover())},s.options.duration),s.link.setAttribute("data-timer",s.timer)},this.dismiss=function(t){s.popover&&t.target===s.popover.querySelector(".close")&&s.close()},this.close=function(t){clearTimeout(s.link.getAttribute("data-timer")),s.timer=setTimeout(function(){s.popover&&null!==s.popover&&/\bin/.test(s.popover.className)&&(s.popover.className=s.popover.className.replace(" in",""),setTimeout(function(){s.removePopover()},s.options.duration))},s.options.delay+s.options.duration),s.link.setAttribute("data-timer",s.timer)},this.removePopover=function(){this.popover&&this.options.container.removeChild(this.popover),this.popover=null,this.timer=null},this.createPopover=function(){if(this.popover=document.createElement("div"),null!==this.content&&null===this.options.template){this.popover.setAttribute("role","tooltip");var t=document.createElement("div");if(t.setAttribute("class","arrow"),null!==this.title){var e=document.createElement("h3");e.setAttribute("class","popover-title"),this.options.dismiss?e.innerHTML=this.title+'<button type="button" class="close">×</button>':e.innerHTML=this.title,this.popover.appendChild(e)}var i=document.createElement("div");i.setAttribute("class","popover-content"),this.popover.appendChild(t),this.popover.appendChild(i),this.options.dismiss&&null===this.title?i.innerHTML=this.content+'<button type="button" class="close">×</button>':i.innerHTML=this.content}else{var o=document.createElement("div");o.innerHTML=this.options.template,this.popover.innerHTML=o.firstChild.innerHTML}this.options.container.appendChild(this.popover),this.popover.style.display="block"},this.stylePopover=function(t){var e=this.link.getBoundingClientRect(),i=t||this.options.placement,o="true"===this.options.animation?"fade":"";this.popover.setAttribute("class","popover "+i+" "+o);var s={w:e.right-e.left,h:e.bottom-e.top},n={w:this.popover.offsetWidth,h:this.popover.offsetHeight},r=this.getScroll().y,p=this.getScroll().x;/top/.test(i)?(this.popover.style.top=e.top+r-n.h+"px",this.popover.style.left=e.left+p-n.w/2+s.w/2+"px"):/bottom/.test(i)?(this.popover.style.top=e.top+r+s.h+"px",this.popover.style.left=e.left+p-n.w/2+s.w/2+"px"):/left/.test(i)?(this.popover.style.top=e.top+r-n.h/2+s.h/2+"px",this.popover.style.left=e.left+p-n.w+"px"):/right/.test(i)&&(this.popover.style.top=e.top+r-n.h/2+s.h/2+"px",this.popover.style.left=e.left+p+s.w+"px")},this.updatePopover=function(){var t=null;t=e(this.popover)?this.options.placement:this.updatePlacement(),this.stylePopover(t),this.popover.className+=" in"},this.updatePlacement=function(){var t=this.options.placement;return/top/.test(t)?"bottom":/bottom/.test(t)?"top":/left/.test(t)?"right":/right/.test(t)?"left":void 0},this.getScroll=function(){return{y:window.pageYOffset||document.documentElement.scrollTop,x:window.pageXOffset||document.documentElement.scrollLeft}},"hover"===this.options.trigger?(this.link.addEventListener(n[0],this.open,!1),this.options.dismiss||this.link.addEventListener(n[1],this.close,!1)):"click"===this.options.trigger?(this.link.addEventListener("click",this.toggle,!1),this.options.dismiss||this.link.addEventListener("blur",this.close,!1)):"focus"===this.options.trigger&&(this.link.addEventListener("focus",this.toggle,!1),this.options.dismiss||this.link.addEventListener("blur",this.close,!1)),this.options.dismiss&&document.addEventListener("click",this.dismiss,!1),t&&t<9||window.addEventListener("resize",this.close,!1)}},o=document.querySelectorAll("[data-toggle=popover]"),s=0,n=o.length;for(s;s<n;s++){var r=o[s],p={};p.trigger=r.getAttribute("data-trigger"),p.animation=r.getAttribute("data-animation"),p.duration=r.getAttribute("data-duration"),p.placement=r.getAttribute("data-placement"),p.dismiss=r.getAttribute("data-dismiss"),p.delay=r.getAttribute("data-delay"),new i(r,p)}return i});
