// Native Javascript for Bootstrap 3 | Collapse
// by dnp_theme
!function(t){"undefined"!=typeof module&&"object"==typeof exports?module.exports="undefined"!=typeof window?t():t:window.Collapse=t()}(function(){var t=function(t,e){e=e||{},this.btn="object"==typeof t?t:document.querySelector(t),this.accordion=null,this.collapse=null,this.duration=300,this.options={},this.options.duration=/ie/.test(document.documentElement.className)?0:e.duration||this.duration,this.init()};t.prototype={init:function(){this.actions(),this.btn.addEventListener("click",this.toggle,!1),document.addEventListener("click",this.update,!1),window.addEventListener("resize",this.update,!1)},actions:function(){var t=this;this.toggle=function(e){t.btn=t.getTarget(e).btn,t.collapse=t.getTarget(e).collapse,/in/.test(t.collapse.className)?t.close(e):t.open(e)},this.close=function(e){e.preventDefault(),t.btn=t.getTarget(e).btn,t.collapse=t.getTarget(e).collapse,t._close(t.collapse),t.btn.className=t.btn.className.replace(" collapsed","")},this.open=function(e){if(e.preventDefault(),t.btn=t.getTarget(e).btn,t.collapse=t.getTarget(e).collapse,t.accordion=t.btn.getAttribute("data-parent")&&t.getClosest(t.btn,t.btn.getAttribute("data-parent")),t._open(t.collapse),t.btn.className+=" collapsed",null!==t.accordion){var o=t.accordion.querySelectorAll(".collapse.in"),n=o.length,r=0;for(r;n>r;r++)o[r]!==t.collapse&&t._close(o[r])}},this._open=function(e){e.className+=" in",e.style.height=0,e.style.overflow="hidden",e.setAttribute("area-expanded","true");var o=this.getMaxHeight(e).oh,n=this.getMaxHeight(e).br;e.style.height=o+n+"px",setTimeout(function(){e.style.overflow=""},t.options.duration)},this._close=function(e){e.style.overflow="hidden",e.style.height=0,setTimeout(function(){e.className=e.className.replace(" in",""),e.style.overflow="",e.setAttribute("area-expanded","false")},t.options.duration)},this.update=function(e){var o=e.type,n=e.target,r=t.getClosest(n,".collapse"),a=document.querySelectorAll(".collapse.in"),i=0,s=a.length;for(i;s>i;i++){var l=a[i],c=t.getMaxHeight(l).oh,u=t.getMaxHeight(l).br;"resize"!==o||/ie/.test(document.documentElement.className)?"click"===o&&r===l&&(l.style.height=c+u+"px"):setTimeout(function(){l.style.height=c+u+"px"},t.options.duration)}},this.getMaxHeight=function(t){var o=t.children[0],n=t.currentStyle||window.getComputedStyle(t);return{oh:e(o),br:parseInt(n.borderTop||0)+parseInt(n.borderBottom||0)}},this.getTarget=function(t){var e=t.currentTarget||t.srcElement,o=e.href&&e.getAttribute("href").replace("#",""),n=e.getAttribute("data-target")&&e.getAttribute("data-target"),r=o||n&&/#/.test(n)&&n.replace("#",""),a=n&&"."===n.charAt(0)&&n,i=r&&document.getElementById(r)||a&&document.querySelector(a);return{btn:e,collapse:i}},this.getClosest=function(t,e){for(var o=e.charAt(0);t&&t!==document;t=t.parentNode){if("."===o&&void 0!==document.querySelector(e))return t;if("#"===o&&t.id===e.substr(1))return t}return!1}}};var e=function(t){var e=t&&t.currentStyle||window.getComputedStyle(t),o=/px/.test(e.marginTop)?Math.round(e.marginTop.replace("px","")):0,n=/px/.test(e.marginBottom)?Math.round(e.marginBottom.replace("px","")):0,r=/em/.test(e.marginTop)?Math.round(e.marginTop.replace("em","")*parseInt(e.fontSize)):0,a=/em/.test(e.marginBottom)?Math.round(e.marginBottom.replace("em","")*parseInt(e.fontSize)):0;return t.offsetHeight+parseInt(o)+parseInt(n)+parseInt(r)+parseInt(a)},o=document.querySelectorAll('[data-toggle="collapse"]'),n=0,r=o.length;for(n;r>n;n++){var a=o[n],i={};i.duration=a.getAttribute("data-duration"),new t(a,i)}return window.addEventListener("load",function(){var t=document.querySelectorAll(".collapse"),o=0,n=t.length;for(o;n>o;o++){var r=t[o];if(/in/.test(r.className)){var a=r.currentStyle||window.getComputedStyle(r),i=e(r.children[0]),s=parseInt(a.borderTop||0)+parseInt(a.borderBottom||0);r.style.height=i+s+"px"}}}),t});
