!function(a){"undefined"!=typeof module&&"object"==typeof exports?"undefined"!=typeof window?module.exports=a():module.exports=a:window.Collapse=a()}(function(){var a=function(a,b){b=b||{},this.isIE=null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&parseFloat(RegExp.$1),this.btn="object"==typeof a?a:document.querySelector(a),this.accordion=null,this.collapse=null,this.duration=300,this.options={},this.options.duration=this.isIE&&this.isIE<10?0:b.duration||this.duration,this.init()};a.prototype={init:function(){this.actions(),this.addEvent(),this.collapse=this.getTarget(),this.accordion=this.btn.getAttribute("data-parent")&&this.getClosest(this.btn,this.btn.getAttribute("data-parent"))},actions:function(){var a=this,b=function(a){var b=a&&(a.currentStyle||window.getComputedStyle(a)),c=/px/.test(b.borderTopWidth)?Math.round(b.borderTopWidth.replace("px","")):0,d=/px/.test(b.marginTop)?Math.round(b.marginTop.replace("px","")):0,e=/px/.test(b.marginBottom)?Math.round(b.marginBottom.replace("px","")):0,f=/em/.test(b.marginTop)?Math.round(b.marginTop.replace("em","")*parseInt(b.fontSize)):0,g=/em/.test(b.marginBottom)?Math.round(b.marginBottom.replace("em","")*parseInt(b.fontSize)):0;return a.clientHeight+parseInt(c)+parseInt(d)+parseInt(e)+parseInt(f)+parseInt(g)};this.toggle=function(b){b.preventDefault(),/\bin/.test(a.collapse.className)?a.close():a.open()},this.close=function(){this._close(this.collapse),this.addClass(this.btn,"collapsed")},this.open=function(){if(this._open(this.collapse),this.removeClass(this.btn,"collapsed"),null!==this.accordion){var a=this.accordion.querySelectorAll(".collapse.in"),b=a.length,c=0;for(c;c<b;c++)a[c]!==this.collapse&&this._close(a[c])}},this._open=function(b){this.removeEvent(),this.addClass(b,"in"),b.setAttribute("aria-expanded","true"),this.addClass(b,"collapsing"),setTimeout(function(){b.style.height=a.getMaxHeight(b)+"px",b.style.overflowY="hidden"},0),setTimeout(function(){b.style.height="",b.style.overflowY="",a.removeClass(b,"collapsing"),a.addEvent()},this.options.duration)},this._close=function(b){this.removeEvent(),b.setAttribute("aria-expanded","false"),b.style.height=this.getMaxHeight(b)+"px",setTimeout(function(){b.style.height="0px",b.style.overflowY="hidden",a.addClass(b,"collapsing")},0),setTimeout(function(){a.removeClass(b,"collapsing"),a.removeClass(b,"in"),b.style.overflowY="",b.style.height="",a.addEvent()},this.options.duration)},this.getMaxHeight=function(a){for(var c=0,d=0,e=a.children.length;d<e;d++)c+=b(a.children[d]);return c},this.removeEvent=function(){this.btn.removeEventListener("click",this.toggle,!1)},this.addEvent=function(){this.btn.addEventListener("click",this.toggle,!1)},this.getTarget=function(){var a=this.btn,b=a.href&&a.getAttribute("href").replace("#",""),c=a.getAttribute("data-target")&&a.getAttribute("data-target"),d=b||c&&/#/.test(c)&&c.replace("#",""),e=c&&"."===c.charAt(0)&&c,f=d&&document.getElementById(d)||e&&document.querySelector(e);return f},this.getClosest=function(a,b){for(var c=b.charAt(0);a&&a!==document;a=a.parentNode){if("."===c&&void 0!==document.querySelector(b))return a;if("#"===c&&a.id===b.substr(1))return a}return!1},this.addClass=function(a,b){a.classList?a.classList.add(b):a.className+=" "+b},this.removeClass=function(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(b,"").replace(/^\s+|\s+$/g,"")}}};var b=document.querySelectorAll('[data-toggle="collapse"]'),c=0,d=b.length;for(c;c<d;c++){var e=b[c],f={};f.duration=e.getAttribute("data-duration"),new a(e,f)}return a});